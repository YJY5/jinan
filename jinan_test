class jinan_site{
	constructor(){
		if(document.URL =="http://jaq.fuzhou.gov.cn/xjwz/zwgk/zfxxgkzdgz/hjbh/hjjc/"){
			this.is_index = false;
		}
		else{
			this.is_index = true
		}
	}
	get content(){
		if(this.is_index){
			return [];
		}
		else{
		      
		    var divList = {};
		    var ulList = {};
		    var liList = {};
		    var res = [];
		      
			divList =  document.getElementsByClassName("zxghdiv");			
			
			for(let i=3;i<=divList.length-1;i++){
                ulList = divList[i].getElementsByTagName("ul");
                liList = ulList[0].getElementsByTagName("li");
               
                for(let  j=0;j<liList.length;j++){
                    var temp = {};
                    temp.date = liList[j].children[0].textContent;
                    temp.url = liList[j].children[1].href;
                    temp.title = liList[j].children[1].textContent;

                    res.push(temp);
                }

			}
					
			}

			return res;
	
		}
		get goNextPage(){
		
		var flag = 1;
		var bar = [];
		 bar = document.getElementsByClassName("ymymym pgStyle")[0].children;
        	if(bar[8].className == "disab"){
        		flag = 0;
        	}else{
        		bar[7].click();
        	}					
       return flag;
		
		}

	}

class jinan_page{

	constructor(){
		
		 var titleList = document.getElementsByClassName("zf-xl-tit clearflx")[0].children;
		 
		 if(titleList[0].innerText.match("处罚决定") != null){
		 	this.flag = true;
		 }else{
		 	this.flag = false;
		 }

	}
	get getDoc(){

		if(this.flag){
			var tr = ((document.getElementsByClassName("TRS_Editor")[0].children)[0].children[1]).children[1];
			var doc = {};
			doc.crop = tr.children[1].innerText;
			doc.fact = tr.children[2].innerText;
			doc.law = tr.children[3].innerText;
			doc.result = tr.children[5].innerText;
			doc.doc_type = "doc";
			
		}
		return doc;
	}
	get getText(){

		var textNode = document.getElementsByClassName("Custom_UnionStyle")[0].children;
		var textContent = "";
		var textObj = {};
		for(let i=0;i<textNode.length;i++){
			textContent += textNode[i].innerText;
		}
		textObj.text = textContent;
		textObj.html = document.getElementsByTagName("body")[0].innerHTML;
		textObj.doc_type = "text";
		return textObj;
	}
	get getFile(){

		var fileObj = {};
		fileObj.url = "";
		fileObj.doc_type = "file";
		return fileObj;
	}

}
